(this["webpackJsonpauk47p.run"]=this["webpackJsonpauk47p.run"]||[]).push([[0],{219:function(e,t,a){e.exports=a(220)},220:function(e,t,a){"use strict";a.r(t);var n=a(59),r=a(39),i=a(78),l=a(61),s=a(62),o=a(64),c=a(63),u=a(65),d=a(0),m=a.n(d),h=a(7),f=a.n(h),p=(a(225),a(226),a(50)),g=a(66),y=a(79),E=a(37),v=a(428),w=a(214),b=a(17),k=a(5),_=a(94),x=a(29),C=a(32),S=a(158),j=a(34),I=a(35),O=a(213),D=a(215),T=a(93),M=a(53),L=a(60),R=a(150),K=a.n(R),B=a(90),P=a.n(B),q=(a(108),a(91)),N=a.n(q),A=a(429),F=a(157),z=a(151),G=a.n(z),H=(a(243),a(244),a(92)),W=a.n(H),J=p.a.Option,U=g.a.confirm,V=y.a.TabPane,Y=E.a.Panel,X=v.a.Text,Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,l=t.clearFilters;return m.a.createElement("div",{style:{padding:8}},m.a.createElement(w.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),m.a.createElement(b.a,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),m.a.createElement(b.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return m.a.createElement(k.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return a.state.searchedColumn===e?m.a.createElement(K.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t.toString()}):t}}},a.columns_proj=[Object(i.a)({title:"",dataIndex:"project_id"},a.getColumnSearchProps("project_id"),{render:function(e,t){return m.a.createElement("p",null)},width:20}),Object(i.a)({title:"\u9879\u76ee\u540d",dataIndex:"project_name",sorter:function(e,t){return e.project_name.charCodeAt()-t.project_name.charCodeAt()}},a.getColumnSearchProps("project_name"),{render:function(e,t){return m.a.createElement("a",{onClick:a.showModal,href:"display/"+t.id},t.project_id+"_"+e)}}),{title:"\u72b6\u6001",dataIndex:"status",filters:[{text:"\u672a\u5f00\u59cb",value:"\u672a\u5f00\u59cb"},{text:"\u51c6\u5907\u4e2d",value:"\u51c6\u5907\u4e2d"},{text:"\u6570\u636e\u91c7\u96c6",value:"\u6570\u636e\u91c7\u96c6"},{text:"\u6570\u636e\u6807\u6ce8",value:"\u6570\u636e\u6807\u6ce8"},{text:"\u6682\u505c",value:"\u6682\u505c"},{text:"\u5b8c\u7ed3",value:"\u5b8c\u7ed3"}],onFilter:function(e,t){return 0==t.status.indexOf(e)}},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"create_time",sorter:function(e,t){return new Date(e.create_time)-new Date(t.create_time)},render:function(e,t){return t.create_time?new Date(t.create_time).toLocaleString():""}},{title:"\u5269\u4f59\u65f6\u95f4",dataIndex:"remaining_time",sorter:function(e,t){return("\u5df2\u7ed3\u675f"!=e.remaining_time?e.remaining_time.split("\u5929")[0]:9999)-("\u5df2\u7ed3\u675f"!=t.remaining_time?t.remaining_time.split("\u5929")[0]:9999)}},{title:"\u6807\u7b7e",dataIndex:"labels",sorter:function(e,t){return e.labels.length-t.labels.length},render:function(e){return m.a.createElement("span",null,e.map((function(e){return m.a.createElement(_.a,{color:"blue",key:e},e)})))}},{title:"\u521b\u5efa\u4eba",dataIndex:"users_found",render:function(e){return m.a.createElement("span",null,e.map((function(e){return m.a.createElement(_.a,{color:"blue",key:e},e)})))}},{title:"\u7ba1\u7406\u4eba",dataIndex:"users_manager",render:function(e){return m.a.createElement("span",null,e.map((function(e){return m.a.createElement(_.a,{color:"blue",key:e},e)})))}},{title:"\u53c2\u4e0e\u4eba",dataIndex:"users_attend",render:function(e){return m.a.createElement("span",null,e.map((function(e){return m.a.createElement(_.a,{color:"blue",key:e},e)})))}},{title:"\u672c\u5468\u5de5\u4f5c\u91cf",dataIndex:"quantity_week",sorter:function(e,t){return(e.quantity_week?e.quantity_week.length:0)-(t.quantity_week?t.quantity_week.length:0)},ellipsis:!0},{title:"\u4efb\u52a1\u63cf\u8ff0",dataIndex:"task_description",sorter:function(e,t){return(e.task_description?e.task_description.length:0)-(t.task_description?t.task_description.length:0)},ellipsis:!0},{title:"\u9884\u8ba1\u5b8c\u6210\u65f6\u95f4",dataIndex:"expected_time",sorter:function(e,t){return new Date(e.expected_time)-new Date(t.expected_time)},render:function(e,t){return t.expected_time?new Date(t.expected_time).toLocaleString():""}}],a.columns_pers=[Object(i.a)({title:"",dataIndex:"project_id"},a.getColumnSearchProps("project_id"),{render:function(e,t){return m.a.createElement("p",null)},width:1}),Object(i.a)({title:"\u9879\u76ee\u540d",dataIndex:"project_name",sorter:function(e,t){return("\u7a7a\u95f2"!=e.project_name?e.project_name.charCodeAt():"k")-("\u7a7a\u95f2"!=t.project_name?t.project_name.charCodeAt():"k")}},a.getColumnSearchProps("project_name"),{render:function(e,t){return"\u7a7a\u95f2"!=t.project_name?m.a.createElement("a",{onClick:a.showModal,href:"display/"+t.id},t.project_id+"_"+e):m.a.createElement("a",null,"\u7a7a\u95f2")}}),{title:"\u72b6\u6001",dataIndex:"status",filters:[{text:"\u672a\u5f00\u59cb",value:"\u672a\u5f00\u59cb"},{text:"\u51c6\u5907\u4e2d",value:"\u51c6\u5907\u4e2d"},{text:"\u6570\u636e\u91c7\u96c6",value:"\u6570\u636e\u91c7\u96c6"},{text:"\u6570\u636e\u6807\u6ce8",value:"\u6570\u636e\u6807\u6ce8"},{text:"\u6682\u505c",value:"\u6682\u505c"},{text:"\u5b8c\u7ed3",value:"\u5b8c\u7ed3"}],onFilter:function(e,t){return-1!=t.status.indexOf(e)},render:function(e,t){return"\u7a7a\u95f2"!=t.project_name?e:""}},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"create_time",sorter:function(e,t){return new Date(e.create_time)-new Date(t.create_time)},render:function(e,t){return t.create_time?new Date(t.create_time).toLocaleString():""}},{title:"\u5269\u4f59\u65f6\u95f4",dataIndex:"remaining_time",sorter:function(e,t){return(e.remaining_time?"\u5df2\u7ed3\u675f"!=e.remaining_time?e.remaining_time.split("\u5929")[0]:9999:"k")-(t.remaining_time?"\u5df2\u7ed3\u675f"!=t.remaining_time?t.remaining_time.split("\u5929")[0]:9999:"k")}},{title:"\u6b63\u5728\u8fdb\u884c\u4eba\u5458",dataIndex:"now_person",render:function(e){return m.a.createElement("span",null,e.map((function(e){return m.a.createElement(_.a,{color:"blue",key:e},e)})))},sorter:function(e,t){return(e.now_person?e.now_person.length:0)-(t.now_person?t.now_person.length:0)}}],a.state={loading:!1,visible:!1,searchText:"",searchedColumn:"",data:[],sta:"proj"},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",e),a.setState({loading:!0}),P()({url:window.location.protocol+"//"+window.location.host+"/aidsp/api/project/?format=json",method:"get"}).then((function(e){a.setState({data:e}),a.setState({loading:!1})}))},a.staChange=function(e){a.setState({sta:e.target.value})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"showModal",value:function(){console.log()}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this.state.sta;return m.a.createElement("div",null,m.a.createElement(b.a,{href:"newproject",type:"primary",style:{float:"left",marginRight:"20px"}},"\u65b0\u5efa\u9879\u76ee"),m.a.createElement(x.a.Group,{value:e,onChange:this.staChange},m.a.createElement(x.a.Button,{value:"proj"},"\u9879\u76ee\u8be6\u60c5"),m.a.createElement(x.a.Button,{value:"pers"},"\u4eba\u5458\u72b6\u6001")),m.a.createElement("br",null),m.a.createElement("br",null),"proj"==this.state.sta?m.a.createElement(C.a,{columns:this.columns_proj,dataSource:this.state.data.filter((function(e){return"\u7a7a\u95f2"!=e.project_name})),rowKey:function(e){return e.id},loading:this.state.loading}):m.a.createElement(C.a,{columns:this.columns_pers,dataSource:this.state.data,rowKey:function(e){return e.id},loading:this.state.loading}))}}]),t}(m.a.Component),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,visible:!1,searchText:"",searchedColumn:"",data:[]},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,l=t.clearFilters;return m.a.createElement("div",{style:{padding:8}},m.a.createElement(w.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),m.a.createElement(b.a,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),m.a.createElement(b.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return m.a.createElement(k.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return a.state.searchedColumn===e?m.a.createElement(K.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t.toString()}):t}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.columns=[Object(i.a)({},a.getColumnSearchProps("name"),{render:function(e,t){return m.a.createElement("a",{href:"dataset_display/"+t.id},t.name)},title:"\u6570\u636e\u96c6\u540d\u79f0",dataIndex:"name",sorter:function(e,t){return e.name.charCodeAt()-t.name.charCodeAt()}}),{title:"\u6240\u5c5e\u9879\u76ee",dataIndex:"project"},{title:"\u6570\u636e\u96c6\u63cf\u8ff0",dataIndex:"describe",ellipsis:!0},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",sorter:function(e,t){return new Date(e.create_time)-new Date(t.create_time)},render:function(e,t){return new Date(t.create_time).toLocaleString()}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"update_time",sorter:function(e,t){return new Date(e.update_time)-new Date(t.update_time)},render:function(e,t){return new Date(t.update_time).toLocaleString()}},{title:"\u6570\u91cf\u8be6\u60c5",dataIndex:"quantity_detials"}],a.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",e),a.setState({loading:!0}),P()({url:window.location.protocol+"//"+window.location.host+"/aidsp/api/dataset/?format=json",method:"get"}).then((function(e){a.setState({data:e}),a.setState({loading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"showModal",value:function(){console.log()}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(b.a,{href:"newdataset",type:"primary"},"\u65b0\u5efa\u6570\u636e\u96c6"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(C.a,{columns:this.columns,dataSource:this.state.data,rowKey:function(e){return e.id},loading:this.state.loading}))}}]),t}(m.a.Component),$=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={data:{}},a.fetch=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];P()({url:window.location.protocol+"//"+window.location.host+"/aidsp/api/user/?format=json",method:"get"}).then((function(e){a.setState({user_data:e});var t=e.map((function(e){return m.a.createElement(J,{value:e.id},e.name)}));a.setState({Options:t})})),P()({url:window.location.protocol+"//"+window.location.host+"/aidsp/project/personal_tasks/",method:"get"}).then((function(e){a.setState({data:e})}))},a.columns=[{title:"\u4efb\u52a1\u540d\u79f0",dataIndex:"task_name"},{title:"\u4efb\u52a1\u94fe\u63a5",dataIndex:"task_link",render:function(e,t){return m.a.createElement("div",null,Object.entries(t.task_link.split(" ")).map((function(e,t){return m.a.createElement("a",{href:e[1],target:"_blank"},e[1],m.a.createElement("br",null))})))}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",sorter:function(e,t){return new Date(e.create_time)-new Date(t.create_time)},render:function(e,t){return new Date(t.create_time).toLocaleString()}},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"begin_time",sorter:function(e,t){return new Date(e.begin_time)-new Date(t.begin_time)},render:function(e,t){return t.begin_time?new Date(t.begin_time).toLocaleString():""}},{title:"\u5b8c\u6210\u65f6\u95f4",dataIndex:"done_time",sorter:function(e,t){return new Date(e.done_time)-new Date(t.done_time)},render:function(e,t){return t.done_time?new Date(t.done_time).toLocaleString():""}},{title:"\u91cd\u542f\u65f6\u95f4",dataIndex:"time_label",sorter:function(e,t){return new Date(e.time_label)-new Date(t.time_label)},render:function(e,t){return t.time_label?new Date(t.time_label).toLocaleString():""}},{title:"\u4efb\u52a1\u7528\u65f6",dataIndex:"used_time"},{title:"\u4efb\u52a1\u5386\u65f6",dataIndex:"total_time"},{title:"\u5de5\u4f5c\u603b\u91cf",dataIndex:"gross"},{title:"\u6709\u6548\u5de5\u4f5c\u91cf",dataIndex:"quantity_available",render:function(e,t){return t.is_admin&&"\u901a\u8fc7"==t.status?m.a.createElement(S.a,{value:t.quantity_available,onBlur:a.quantity_available_change(t.id)}):t.quantity_available}},{title:"\u72b6\u6001",dataIndex:"status"},{title:"\u5ba1\u6838\u6b21\u6570",dataIndex:"number_of_reviews",sorter:function(e,t){return e.number_of_reviews-t.number_of_reviews}},{title:"\u6807\u6ce8\u5458",dataIndex:"assignee",render:function(e,t){return m.a.createElement("span",null,m.a.createElement(p.a,{mode:"multiple",optionFilterProp:"children",style:{width:"100%"},value:t.assignee,disabled:!t.is_admin,onChange:a.assignee_change(t.id,t.is_admin)},a.state.Options),",")}},{title:"\u5ba1\u6838\u5458",dataIndex:"reviewer",render:function(e,t){return m.a.createElement("span",null,m.a.createElement(p.a,{mode:"multiple",optionFilterProp:"children",style:{width:"100%"},value:t.reviewer,disabled:!t.is_admin,onChange:a.reviewer_change(t.id,t.is_admin)},a.state.Options),",")}},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t){return m.a.createElement("div",null,t.is_admin||"\u672a\u5f00\u59cb"!=t.status&&"\u6682\u505c"!=t.status?"":m.a.createElement(j.a,{title:"\u5f00\u59cb"},m.a.createElement(k.a,{type:"play-circle",theme:"twoTone",onClick:a.taskStatusChange(t.id,1),style:{marginRight:"5px"}})),t.is_admin||"\u6b63\u5728\u8fdb\u884c"!=t.status?"":m.a.createElement(j.a,{title:"\u6682\u505c"},m.a.createElement(k.a,{type:"pause-circle",theme:"twoTone",onClick:a.taskStatusChange(t.id,5),style:{marginRight:"5px"}})),t.is_admin||"\u6b63\u5728\u8fdb\u884c"!=t.status&&"\u672a\u901a\u8fc7"!=t.status?"":m.a.createElement(j.a,{title:"\u63d0\u4ea4\u5ba1\u6838"},m.a.createElement(k.a,{type:"plus-circle",theme:"twoTone",onClick:a.taskStatusChange(t.id,2),style:{marginRight:"5px"}})),t.is_admin&&"\u5f85\u5ba1\u6838"==t.status?m.a.createElement(j.a,{title:"\u901a\u8fc7"},m.a.createElement(k.a,{type:"check-circle",theme:"twoTone",onClick:a.taskStatusChange(t.id,3),style:{marginRight:"5px"}})):"",t.is_admin&&"\u5f85\u5ba1\u6838"==t.status?m.a.createElement(j.a,{title:"\u4e0d\u901a\u8fc7"},m.a.createElement(k.a,{type:"close-circle",theme:"twoTone",onClick:a.taskStatusChange(t.id,4),style:{marginRight:"5px"}})):"")}}],a.reviewer_done_count=function(e){var t=0;if(a.state.data.reviewer){for(var n in a.state.data.reviewer[2])t+=a.state.data.reviewer[2][n].length;return t}return t},a.assignee_not_pass_count=function(e){var t=0;if(a.state.data.assignee){for(var n in a.state.data.assignee[4])t+=a.state.data.assignee[4][n].length;return t}return t},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"assignee_change",value:function(e,t){var a=this;return function(n){t&&(I.a.loading({content:"\u63d0\u4ea4\u4e2d\u3002\u3002\u3002",key:"assignee_change"}),fetch(window.location.protocol+"//"+window.location.host+"/aidsp/project/tasks_change/"+e+"/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:N.a.stringify({assignee:n?n.toString():[],id:e})}).then((function(e){201==e.status||200==e.status?(a.fetch(),I.a.success({content:"\u63d0\u4ea4\u6210\u529f!",key:"assignee_change"})):I.a.error({content:"\u9519\u8bef"+e.status+" \u63d0\u4ea4\u5931\u8d25",key:"assignee_change"})})))}}},{key:"reviewer_change",value:function(e,t){var a=this;return function(n){t&&(I.a.loading({content:"\u63d0\u4ea4\u4e2d\u3002\u3002\u3002",key:"reviewer_change"}),fetch(window.location.protocol+"//"+window.location.host+"/aidsp/project/tasks_change/"+e+"/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:N.a.stringify({reviewer:n?n.toString():[],id:e})}).then((function(e){201==e.status||200==e.status?(a.fetch(),I.a.success({content:"\u63d0\u4ea4\u6210\u529f!",key:"reviewer_change"})):I.a.error({content:"\u9519\u8bef"+e.status+" \u63d0\u4ea4\u5931\u8d25",key:"reviewer_change"})})))}}},{key:"taskStatusChange",value:function(e,t){var a=this;return function(n){var r;switch(t){case 1:r="\u5f00\u59cb";break;case 5:r="\u6682\u505c";break;case 2:r="\u63d0\u4ea4\u5ba1\u6838";break;case 3:r="\u901a\u8fc7";break;case 4:r="\u4e0d\u901a\u8fc7";break;default:r="\u672a\u77e5"}U({title:r,icon:m.a.createElement(A.a,null),content:"\u60a8\u786e\u5b9a\u8981"+r+"\u8fd9\u4e2a\u4efb\u52a1\uff1f",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){I.a.loading({content:"\u63d0\u4ea4\u4e2d\u3002\u3002\u3002",key:"taskStatusChange"}),fetch(window.location.protocol+"//"+window.location.host+"/aidsp/project/tasks_change/"+e+"/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:N.a.stringify({id:e,status:t})}).then((function(e){200==e.status?(a.fetch(),I.a.success({content:"\u63d0\u4ea4\u6210\u529f!",key:"taskStatusChange"})):I.a.error({content:"\u9519\u8bef"+e.status+" \u63d0\u4ea4\u5931\u8d25",key:"taskStatusChange"})}))},onCancel:function(){console.log("Cancel")}})}}},{key:"quantity_available_change",value:function(e){var t=this;return function(a){var n=a.target.value;n&&(I.a.loading({content:"\u63d0\u4ea4\u4e2d\u3002\u3002\u3002",key:"quantity_available"}),fetch("/aidsp/project/tasks_change/"+e+"/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:N.a.stringify({id:e,quantity_available:n})}).then((function(e){201==e.status||200==e.status?(t.fetch(),I.a.success({content:"\u63d0\u4ea4\u6210\u529f!",key:"quantity_available"})):I.a.error("\u9519\u8bef"+e.status)})))}}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(O.a,{title:"\u5ba1\u6838\u4efb\u52a1",style:{width:"100%"}},m.a.createElement(y.a,{defaultActiveKey:"1"},m.a.createElement(V,{tab:"\u672a\u5f00\u59cb",key:"0"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.reviewer[0]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))),m.a.createElement(V,{tab:"\u6b63\u5728\u8fdb\u884c",key:"1"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.reviewer[1]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))),m.a.createElement(V,{tab:m.a.createElement(D.a,{count:this.reviewer_done_count()},m.a.createElement("span",null,"\u5f85\u5ba1\u6838")),key:"2"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.reviewer[2]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))),m.a.createElement(V,{tab:"\u672a\u901a\u8fc7",key:"4"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.reviewer[4]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))),m.a.createElement(V,{tab:"\u901a\u8fc7",key:"3"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.reviewer[3]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))))),m.a.createElement("br",null),m.a.createElement(O.a,{title:"\u6807\u6ce8\u4efb\u52a1",style:{width:"100%"}},m.a.createElement(y.a,{defaultActiveKey:"1"},m.a.createElement(V,{tab:"\u672a\u5f00\u59cb",key:"0"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.assignee[0]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))),m.a.createElement(V,{tab:"\u6b63\u5728\u8fdb\u884c",key:"1"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.assignee[1]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))),m.a.createElement(V,{tab:"\u5f85\u5ba1\u6838",key:"2"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.assignee[2]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))),m.a.createElement(V,{tab:m.a.createElement(D.a,{count:this.assignee_not_pass_count()},m.a.createElement("span",null,"\u672a\u901a\u8fc7")),key:"4"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.assignee[4]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))),m.a.createElement(V,{tab:"\u901a\u8fc7",key:"3"},m.a.createElement(E.a,null,Object.entries(this.state.data.reviewer?this.state.data.assignee[3]:{}).map((function(t,a){return m.a.createElement(Y,{header:t[0],key:a},m.a.createElement(C.a,{columns:e.columns,dataSource:t[1]}))})))))))}}]),t}(m.a.Component),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={slideIndex:0,marks:{},max:0,imgshowdist:[],tf:"t",ModalCount:100,visible:!1,confirmLoading:!1,data:[],finishMin:0,finishMax:100},a.handleKeyDown=function(e){65===e.keyCode&&a.previous(),68===e.keyCode&&a.next(),83===e.keyCode&&a.errorMark()},a.errorMark=function(e){var t=a.state.marks,n=a.state.data;t[a.state.slideIndex]=1!==a.state.data[a.state.slideIndex].status?{style:{color:"#DC143C"},label:m.a.createElement("strong",null,"\xd7")}:{style:{color:"#3CB371"},label:m.a.createElement("strong",null,"\u221a")},n[a.state.slideIndex].status=1===n[a.state.slideIndex].status?0:1,a.setState({data:n,marks:t})},a.tfChange=function(e){a.setState({tf:e.target.value})},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(){if(a.picSubmit(),0==a.state.data.length){a.setState({confirmLoading:!0});var e=Object(r.a)(a),t=new FormData;t.append("count",a.state.ModalCount),W.a.post("/aidsp/project/imgget/",t).then((function(t){var a=t.data;e.setState({data:a});var n=[],r=!0,i=!1,l=void 0;try{for(var s,o=a[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var c=s.value;n.push(m.a.createElement("img",{src:"/aidsp"+c.url,alt:"",class:"spic"}))}}catch(u){i=!0,l=u}finally{try{r||null==o.return||o.return()}finally{if(i)throw l}}e.setState({imgshowdist:n,max:t.data.length-1}),e.setState({visible:!1,confirmLoading:!1})})).catch((function(t){console.log(t),e.setState({visible:!1,confirmLoading:!1})}))}},a.handleCancel=function(){console.log("Clicked cancel button"),a.setState({visible:!1})},a.ModalCountonChange=function(e){a.setState({ModalCount:e})},a.picSubmit=function(){if(0!=a.state.data.length){var e=Object(r.a)(a);W.a.post("/aidsp/project/imgpost/",a.state.data).then((function(t){g.a.success({content:"\u63d0\u4ea4\u6210\u529f",onOk:function(){e.setState({slideIndex:0,marks:{},max:0,imgshowdist:[],data:[]})}})})).catch((function(e){g.a.error({content:"\u9519\u8bef",onOk:function(){}})}))}},a.next=a.next.bind(Object(r.a)(a)),a.previous=a.previous.bind(Object(r.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"next",value:function(){if(this.slider.slickNext(),this.state.data){var e=this.state.marks;null===this.state.data[this.state.slideIndex].status&&this.state.data[this.state.slideIndex]&&(e[this.state.slideIndex]="f"===this.state.tf?{style:{color:"#DC143C"},label:m.a.createElement("strong",null,"\xd7")}:{style:{color:"#3CB371"},label:m.a.createElement("strong",null,"\u221a")},this.state.data[this.state.slideIndex].status="f"===this.state.tf?1:0)}}},{key:"previous",value:function(){this.slider.slickPrev()}},{key:"componentWillUmount",value:function(){document.removeEventListener("keydown",this.handleEenterKey)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t={infinite:!1,dots:!1,speed:0,slidesToShow:1,slidesToScroll:1,afterChange:function(){return e.setState((function(e){return{updateCount:e.updateCount+1}}))},beforeChange:function(t,a){return e.setState({slideIndex:a})}},a=this.state,n=a.visible,r=a.confirmLoading;return m.a.createElement("div",null,m.a.createElement("div",{onKeyDown:this.handleKeyDown},m.a.createElement("p",null,"\u5f53\u524d: ",this.state.slideIndex," "),m.a.createElement(F.a,{onChange:function(t){return e.slider.slickGoTo(t)},value:this.state.slideIndex,min:0,max:this.state.max,marks:this.state.marks}),m.a.createElement("br",null),m.a.createElement(b.a,{className:"button",onClick:this.previous,style:{marginRight:8}},"\u4e0a\u4e00\u5f20"),m.a.createElement(b.a,{className:"button",onClick:this.next,style:{marginRight:8}},"\u4e0b\u4e00\u5f20"),m.a.createElement(x.a.Group,{value:this.state.tf,onChange:this.tfChange,style:{marginRight:8}},m.a.createElement(x.a.Button,{value:"t"},"\u9ed8\u8ba4\u221a"),m.a.createElement(x.a.Button,{value:"f"},"\u9ed8\u8ba4\xd7")),m.a.createElement(b.a,{className:"button",style:{marginRight:20},onClick:this.errorMark},"\u6807\u8bb0"),function(){if(e.state.data[e.state.slideIndex])switch(e.state.data[e.state.slideIndex].status){case 1:return m.a.createElement(k.a,{type:"close-circle",theme:"twoTone",twoToneColor:"#DC143C "});case 0:return m.a.createElement(k.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#3CB371 "});default:return null}}(),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(b.a,{className:"button",style:{marginRight:8},onClick:this.showModal},"\u83b7\u53d6\u56fe\u7247"),m.a.createElement(g.a,{title:"Title",visible:n,onOk:this.handleOk,confirmLoading:r,onCancel:this.handleCancel},m.a.createElement(S.a,{min:1,max:300,value:this.state.ModalCount,onChange:this.ModalCountonChange})),m.a.createElement(b.a,{className:"button",style:{marginRight:20},onClick:this.picSubmit},"\u63d0\u4ea4"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(G.a,Object.assign({style:{width:"600px"},ref:function(t){return e.slider=t}},t),this.state.imgshowdist),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(X,{code:!0},"\u5df2\u5b8c\u6210\u56fe\u7247"),m.a.createElement("br",null),m.a.createElement("br",null)),m.a.createElement("div",null,m.a.createElement(te,null)))}}]),t}(m.a.Component),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={slideIndex:0,marks:{},max:0,imgshowdist:[],ModalCount:100,visible:!1,confirmLoading:!1,data:[],finishMin:0,finishMax:100,tfshow:"all",alldata:[],tdata:[],fdata:[]},a.handleKeyDown=function(e){65===e.keyCode&&a.previous(),68===e.keyCode&&a.next(),83===e.keyCode&&a.errorMark()},a.errorMark=function(e){var t=a.state.marks,n=a.state.data;t[a.state.slideIndex]=1!==a.state.data[a.state.slideIndex].status?{style:{color:"#DC143C"},label:m.a.createElement("strong",null,"\xd7")}:{style:{color:"#3CB371"},label:m.a.createElement("strong",null,"\u221a")},n[a.state.slideIndex].status=1===n[a.state.slideIndex].status?0:1,a.setState({data:n,marks:t})},a.picSubmit=function(){Object(r.a)(a);W.a.post("/aidsp/project/imgpost/",a.state.alldata).then((function(e){g.a.success({content:"\u63d0\u4ea4\u6210\u529f",onOk:function(){}})})).catch((function(e){g.a.error({content:"\u9519\u8bef",onOk:function(){}})}))},a.percentageOnChange=function(e){a.state.data.length>100&&(.01*e*(a.state.data.length-100)>a.state.slideIndex&&a.setState({slideIndex:parseInt(.01*e*(a.state.data.length-100))}),.01*e*(a.state.data.length-100)+100<a.state.slideIndex&&a.setState({slideIndex:parseInt(.01*e*(a.state.data.length-100)+100)}),a.setState({finishMin:parseInt(.01*e*(a.state.data.length-100)),finishMax:parseInt(.01*e*(a.state.data.length-100)+100)}))},a.showChange=function(e){var t;a.slider.slickGoTo("0"),a.setState({tfshow:e.target.value}),"all"===e.target.value?(a.setState({data:a.state.alldata}),a.state.data=a.state.alldata):"cha"===e.target.value?(a.setState({data:a.state.fdata}),a.state.data=a.state.fdata):"gou"===e.target.value&&(a.setState({data:a.state.tdata}),a.state.data=a.state.tdata);var n=[],r=0,i=a.state.marks;i=[],t=a.state.data;var l=!0,s=!1,o=void 0;try{for(var c,u=t[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){var d=c.value;n.push(m.a.createElement("img",{src:"/aidsp"+d.url,alt:"",class:"spic"})),i[r]=1===t[r].status?{style:{color:"#DC143C"},label:m.a.createElement("strong",null,"\xd7")}:{style:{color:"#3CB371"},label:m.a.createElement("strong",null,"\u221a")},r+=1}}catch(h){s=!0,o=h}finally{try{l||null==u.return||u.return()}finally{if(s)throw o}}a.setState({imgshowdist:n,finishMin:0,finishMax:t.length>100?100:t.length-1,marks:i})},a.silderOnchang=function(e){try{a.slider.slickGoTo(e)}catch(t){console.log("\u9519\u8bef"+t)}},a.next=a.next.bind(Object(r.a)(a)),a.previous=a.previous.bind(Object(r.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"next",value:function(){if(this.state.slideIndex<this.state.data.length-1&&(this.slider.slickNext(),this.state.slideIndex>=this.state.finishMax&&this.setState({finishMax:this.state.slideIndex+1,finishMin:this.state.slideIndex-99}),this.data)){var e=this.state.marks;e[this.state.slideIndex]||(e[this.state.slideIndex]="f"===this.state.tf?{style:{color:"#DC143C"},label:m.a.createElement("strong",null,"\xd7")}:{style:{color:"#3CB371"},label:m.a.createElement("strong",null,"\u221a")},this.data[this.state.slideIndex].status="f"===this.state.tf?1:0)}}},{key:"previous",value:function(){0!==this.state.slideIndex&&(this.slider.slickPrev(),this.state.slideIndex<=this.state.finishMin&&this.setState({finishMax:this.state.slideIndex+99,finishMin:this.state.slideIndex-1}))}},{key:"componentWillUmount",value:function(){document.removeEventListener("keydown",this.handleEenterKey)}},{key:"componentDidMount",value:function(){var e=this;W.a.get("/aidsp/project/imgfinish/").then((function(t){var a=t.data;if(0!=a.length){e.setState({data:a,alldata:a,tdata:a.filter((function(e){return 0===e.status})),fdata:a.filter((function(e){return 1===e.status}))});var n=[],r=0,i=e.state.marks,l=!0,s=!1,o=void 0;try{for(var c,u=a[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){var d=c.value;n.push(m.a.createElement("img",{src:"/aidsp"+d.url,alt:"",class:"spic"})),i[r]=1===a[r].status?{style:{color:"#DC143C"},label:m.a.createElement("strong",null,"\xd7")}:{style:{color:"#3CB371"},label:m.a.createElement("strong",null,"\u221a")},r+=1}}catch(h){s=!0,o=h}finally{try{l||null==u.return||u.return()}finally{if(s)throw o}}e.setState({imgshowdist:n,finishMax:t.data.length>100?100:t.data.length-1,marks:i})}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this,a=(e={lazyLoad:!0,dots:!1,speed:0,slidesToShow:1,slidesToScroll:1},Object(n.a)(e,"lazyLoad",!0),Object(n.a)(e,"infinite",!1),Object(n.a)(e,"afterChange",(function(){return t.setState((function(e){return{updateCount:e.updateCount+1}}))})),Object(n.a)(e,"beforeChange",(function(e,a){return t.setState({slideIndex:a})})),e),r=this.state,i=r.visible,l=r.confirmLoading;return m.a.createElement("div",{onKeyDown:this.handleKeyDown},m.a.createElement("p",null,"\u5f53\u524d: ",this.state.slideIndex," "),m.a.createElement(F.a,{onChange:this.silderOnchang,value:this.state.slideIndex,min:this.state.finishMin,max:this.state.finishMax,marks:this.state.marks}),m.a.createElement("br",null),m.a.createElement(F.a,{min:0,max:100,onChange:this.percentageOnChange,marks:{0:"0%",100:"100%"}}),m.a.createElement("br",null),m.a.createElement(b.a,{className:"button",onClick:this.previous,style:{marginRight:8}},"\u4e0a\u4e00\u5f20"),m.a.createElement(b.a,{className:"button",onClick:this.next,style:{marginRight:8}},"\u4e0b\u4e00\u5f20"),m.a.createElement(x.a.Group,{value:this.state.tfshow,onChange:this.showChange,style:{marginRight:8}},m.a.createElement(x.a.Button,{value:"all"},"\u5168\u90e8\u663e\u793a"),m.a.createElement(x.a.Button,{value:"cha"},"\u53ea\u663e\u793a\xd7"),m.a.createElement(x.a.Button,{value:"gou"},"\u53ea\u663e\u793a\u221a")),m.a.createElement(b.a,{className:"button",style:{marginRight:20},onClick:this.errorMark},"\u6807\u8bb0"),function(){if(t.state.data[t.state.slideIndex])switch(t.state.data[t.state.slideIndex].status){case 1:return m.a.createElement(k.a,{type:"close-circle",theme:"twoTone",twoToneColor:"#DC143C "});case 0:return m.a.createElement(k.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#3CB371 "});default:return null}}(),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(g.a,{title:"Title",visible:i,onOk:this.handleOk,confirmLoading:l,onCancel:this.handleCancel},m.a.createElement(S.a,{min:1,max:300,value:this.state.ModalCount,onChange:this.ModalCountonChange})),m.a.createElement(b.a,{className:"button",style:{marginRight:20},onClick:this.picSubmit,onKeydown:this.handleKeyDown},"\u63d0\u4ea4"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(G.a,Object.assign({style:{width:"600px"},ref:function(e){return t.slider=e}},a),this.state.imgshowdist))}}]),t}(m.a.Component),ae=T.a.Header,ne=T.a.Sider,re=T.a.Content,ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={main_show:$,collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.menuSelect=function(e){"/aidsp/project"==e.key&&a.setState({main_show:Q}),"/aidsp/dataset"==e.key&&a.setState({main_show:Z}),"/aidsp/personal"==e.key&&a.setState({main_show:$}),"/aidsp/picscreen"==e.key&&a.setState({main_show:ee})},a.pagechange=function(e){"/aidsp/project"==e&&a.setState({main_show:Q}),"/aidsp/dataset"==e&&a.setState({main_show:Z}),"/aidsp/personal"==e&&a.setState({main_show:$}),"/aidsp/picscreen"==e&&a.setState({main_show:ee})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.pagechange(window.location.pathname)}},{key:"render",value:function(){var e=window.location.pathname;return m.a.createElement(L.a,null,m.a.createElement(T.a,{style:{minHeight:"100vh",height:"100%",width:"100%",border:"1px",position:"fixed",left:0,top:0}},m.a.createElement(ne,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},m.a.createElement("div",{className:"logo"},m.a.createElement("h1",{style:{color:"#ffffff",textAlign:"center",fontSize:"20px"}},this.state.collapsed?"":"\u6570\u636e\u96c6\u751f\u4ea7\u7ba1\u7406")),m.a.createElement(M.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[e],onSelect:this.menuSelect},m.a.createElement(M.a.Item,{key:"/aidsp/personal"},m.a.createElement(L.b,{to:"/aidsp/personal"},m.a.createElement(k.a,{type:"user"}),m.a.createElement("span",null,"\u4e2a\u4eba"))),m.a.createElement(M.a.Item,{key:"/aidsp/project"},m.a.createElement(L.b,{to:"/aidsp/project"},m.a.createElement(k.a,{type:"appstore-o"}),m.a.createElement("span",null,"\u9879\u76ee"))),m.a.createElement(M.a.Item,{key:"/aidsp/dataset"},m.a.createElement(L.b,{to:"/aidsp/dataset"},m.a.createElement(k.a,{type:"appstore-o"}),m.a.createElement("span",null,"\u6570\u636e\u96c6"))),m.a.createElement(M.a.Item,{key:"/aidsp/picscreen"},m.a.createElement(L.b,{to:"/aidsp/picscreen"},m.a.createElement(k.a,{type:"picture"}),m.a.createElement("span",null,"\u56fe\u7247\u7b5b\u9009"))))),m.a.createElement(T.a,null,m.a.createElement(ae,{style:{background:"#fff",padding:0}},m.a.createElement(k.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),m.a.createElement(re,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280,overflowY:"auto",overflowX:"hidden"}},m.a.createElement(this.state.main_show,null)))))}}]),t}(m.a.Component);f.a.render(m.a.createElement(ie,null),document.getElementById("container"))},226:function(e,t,a){},227:function(e,t){}},[[219,1,2]]]);
//# sourceMappingURL=main.6b5ebd87.chunk.js.map