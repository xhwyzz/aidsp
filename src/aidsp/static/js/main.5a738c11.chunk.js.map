{"version":3,"sources":["index.js"],"names":["TextArea","Button","Group","Input","CommentList","comments","dataSource","header","length","itemLayout","renderItem","props","Editor","onChange","onSubmit","submitting","value","Item","rows","htmlType","loading","onClick","Option","Select","children","i","push","key","toString","CollectionCreateForm","Form","create","name","this","visible","onCancel","onCreate","getFieldDecorator","form","title","okText","onOk","layout","label","rules","required","message","React","Component","Demo","state","data","user_data","Options","label_data","Options_label","nowDoc","reqDoc","colDoc","labDoc","editor","qastatus","bacDoc","editor_2","handleSubmit","e","preventDefault","validateFields","err","values","pid","window","location","pathname","split","pdata","project_name","status","create_time","_d","end_time","total_demand","total_describe","deadline","documents","JSON","stringify","labels","users_found","users_manager","users_attend","fetch","protocol","host","method","headers","body","qs","normFile","console","log","Array","isArray","fileList","project_fetch","reqwest","url","then","moment","setState","setFieldsValue","background","txt","html","map","station","id","handleSizeChange","target","doc","qa","edonchange","handleQASubmit","setTimeout","author","avatar","content","datetime","fromNow","handleChange","handleQAChange","tag_fetch","showModal","handleCancel","handleCreate","formRef","resetFields","saveFormRef","elemMenu","refs","editorElemMenu","elemBody","editorElemBody","LEdit","customConfig","onchange","menus","uploadImgShowBase64","elemMenu_2","editorElemMenu_2","elemBody_2","editorElemBody_2","formItemLayout","labelCol","span","wrapperCol","placeholder","disabled","type","mode","dropdownRender","menu","style","margin","padding","cursor","onMouseDown","valuePropName","getValueFromEvent","className","ref","backgroundColor","border","height","borderTop","src","alt","offset","wrappedComponentRef","WrappedDemo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5a738c11.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport moment from 'moment'; // 时间插件  \r\nimport qs from 'qs'\r\nimport {\r\n  Form,\r\n  Select,\r\n  InputNumber,\r\n  Switch,\r\n  Radio,\r\n  Slider,\r\n  Button,\r\n  Upload,\r\n  Icon,\r\n  Rate,\r\n  Checkbox,\r\n  Row,\r\n  Col,\r\n  Input,\r\n  DatePicker,\r\n  Comment,\r\n  Avatar,\r\n  List,\r\n  Divider,\r\n  Modal,\r\n} from 'antd';\r\nimport reqwest from 'reqwest';\r\nimport LEdit from 'wangeditor'\r\nconst ButtonGroup = Button.Group;\r\nconst { TextArea } = Input;\r\n\r\nconst CommentList = ({ comments }) => (\r\n  <List\r\n    dataSource={comments}\r\n    header={`${comments.length} ${comments.length > 1 ? 'replies' : 'reply'}`}\r\n    itemLayout=\"horizontal\"\r\n    renderItem={props => <Comment {...props} />}\r\n  />\r\n);\r\n\r\nconst Editor = ({ onChange, onSubmit, submitting, value }) => (\r\n  <div>\r\n    <Form.Item>\r\n      <TextArea rows={4} onChange={onChange} value={value} />\r\n    </Form.Item>\r\n    <Form.Item>\r\n      <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit}>\r\n        添加\r\n      </Button>\r\n    </Form.Item>\r\n  </div>\r\n);\r\nconst { Option } = Select;\r\nconst props = {\r\n  onChange({ file, fileList }) {\r\n    if (file.status !== 'uploading') {\r\n      console.log(file, fileList);\r\n    }\r\n  },\r\n  defaultFileList: [\r\n    {\r\n      uid: '1',\r\n      name: 'xxx.png',\r\n      status: 'done',\r\n      response: 'Server Error 500', // custom error message to show\r\n      url: 'http://www.baidu.com/xxx.png',\r\n    },\r\n  ],\r\n};\r\nconst children = [];\r\nfor (let i = 10; i < 36; i++) {\r\n  children.push(<Option key={i.toString(36) + i}>{i.toString(36) + i}</Option>);\r\n}\r\n\r\nfunction handleChange(value) {\r\n  console.log(`selected ${value}`);\r\n}\r\nconst CollectionCreateForm = Form.create({ name: 'form_in_modal' })(\r\n  // eslint-disable-next-line\r\n  class extends React.Component {\r\n    render() {\r\n      const { visible, onCancel, onCreate, form } = this.props;\r\n      const { getFieldDecorator } = form;\r\n      return (\r\n        <Modal\r\n          visible={visible}\r\n          title=\"创建一个新标签\"\r\n          okText=\"Create\"\r\n          onCancel={onCancel}\r\n          onOk={onCreate}\r\n        >\r\n          <Form layout=\"vertical\">\r\n            <Form.Item label=\"标签\">\r\n              {getFieldDecorator('name', {\r\n                rules: [{ required: true, message: '请输入标签！' }],\r\n              })(<Input />)}\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n      );\r\n    }\r\n  },\r\n);\r\nclass Demo extends React.Component {\r\n  state = {\r\n    data: [],\r\n    user_data: [{'id':'','name':'',}],\r\n    Options:[],\r\n    label_data: [{'id':'','name':'',}],\r\n    Options_label:[],\r\n    nowDoc:'reqDoc',\r\n    reqDoc:{'doc':'','qa':[]},\r\n    colDoc:{'doc':'','qa':[]},\r\n    labDoc:{'doc':'','qa':[]},\r\n    editor:[],\r\n    comments: [],\r\n    submitting: false,\r\n    value: '',\r\n    qastatus:'Q',\r\n    bacDoc:'',\r\n    visible: false,\r\n    editor_2:[],\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      const pid = window.location.pathname.split(\"/\")[window.location.pathname.split(\"/\").length-2]\r\n\r\n      if (!err) {\r\n        const pdata = {\r\n          \"project_id\": pid,\r\n          \"project_name\": values.project_name,\r\n          \"status\": values.status,\r\n          \"create_time\": values.create_time._d,\r\n          \"end_time\": values.end_time._d,\r\n          \"background\": this.state.bacDoc,\r\n          \"total_demand\": values.total_demand,\r\n          \"total_describe\": values.total_describe,\r\n          \"deadline\": values.deadline._d,\r\n          \"documents\": values.documents,\r\n          \"labels\": JSON.stringify(values.labels),\r\n          \"users_found\": JSON.stringify(values.users_found),\r\n          \"users_manager\": JSON.stringify(values.users_manager),\r\n          \"users_attend\": JSON.stringify(values.users_attend),\r\n        }\r\n        fetch(window.location.protocol + \"//\"+window.location.host + '/aidsp/api/project/' + pid, {\r\n        // fetch('http://127.0.0.1:8000/aidsp/api/project/1', {\r\n\r\n          method: 'PUT',\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n          },\r\n          body: qs.stringify(pdata),\r\n        })\r\n\r\n\r\n      }\r\n    });\r\n  };\r\n\r\n  normFile = e => {\r\n    console.log('Upload event:', e);\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };  \r\n\r\n  componentDidMount() {\r\n\r\n    const elemMenu = this.refs.editorElemMenu;\r\n    const elemBody = this.refs.editorElemBody;\r\n    const editor = new LEdit(elemMenu, elemBody)\r\n    // 使用 onchange 函数监听内容的变化，并实时更新到 state 中\r\n        editor.customConfig.onchange = html => {\r\n            this.edonchange()\r\n        }\r\n    editor.customConfig.menus = [\r\n        'head',  // 标题\r\n        'bold',  // 粗体\r\n        'fontSize',  // 字号\r\n        'fontName',  // 字体\r\n        'italic',  // 斜体\r\n        'underline',  // 下划线\r\n        'strikeThrough',  // 删除线\r\n        'foreColor',  // 文字颜色\r\n        'backColor',  // 背景颜色\r\n        'link',  // 插入链接\r\n        'list',  // 列表\r\n        'justify',  // 对齐方式\r\n        'quote',  // 引用\r\n        'emoticon',  // 表情\r\n        'image',  // 插入图片\r\n        'table',  // 表格\r\n        'video',  // 插入视频\r\n        'code',  // 插入代码\r\n        'undo',  // 撤销\r\n        'redo'  // 重复\r\n    ]\r\n    editor.customConfig.uploadImgShowBase64 = true\r\n    editor.create()\r\n    this.setState({\r\n        editor: editor\r\n    })\r\n    editor.txt.html(this.state.reqDoc.doc)\r\n    const elemMenu_2 = this.refs.editorElemMenu_2;\r\n    const elemBody_2 = this.refs.editorElemBody_2;\r\n    const editor_2 = new LEdit(elemMenu_2, elemBody_2)\r\n    // 使用 onchange 函数监听内容的变化，并实时更新到 state 中\r\n        editor_2.customConfig.onchange = html => {\r\n          this.setState({\r\n              bacDoc: this.state.editor.txt.html()\r\n          })\r\n        }\r\n      \r\n    editor_2.customConfig.menus = [\r\n        'head',  // 标题\r\n        'bold',  // 粗体\r\n        'fontSize',  // 字号\r\n        'fontName',  // 字体\r\n        'italic',  // 斜体\r\n        'underline',  // 下划线\r\n        'strikeThrough',  // 删除线\r\n        'foreColor',  // 文字颜色\r\n        'backColor',  // 背景颜色\r\n        'link',  // 插入链接\r\n        'list',  // 列表\r\n        'justify',  // 对齐方式\r\n        'quote',  // 引用\r\n        'emoticon',  // 表情\r\n        'image',  // 插入图片\r\n        'table',  // 表格\r\n        'video',  // 插入视频\r\n        'code',  // 插入代码\r\n        'undo',  // 撤销\r\n        'redo'  // 重复\r\n    ]\r\n    editor_2.customConfig.uploadImgShowBase64 = true\r\n    editor_2.create()\r\n    this.setState({\r\n        editor_2: editor_2\r\n    })\r\n    this.project_fetch();\r\n\r\n  }\r\n\r\n  project_fetch = (params = {}) => {\r\n    const pid = window.location.pathname.split(\"/\")[window.location.pathname.split(\"/\").length-2]\r\n    reqwest({\r\n      url:window.location.protocol + \"//\"+window.location.host + '/aidsp/api/project/1/?format=json',\r\n      // url:'http://127.0.0.1:8000/aidsp/api/project/1/?format=json',\r\n      method: 'get',\r\n    }).then(data => {\r\n      if(data.create_time){data.create_time = moment(data.create_time, 'YYYY-MM-DD')}\r\n      if(data.end_time){data.end_time = moment(data.end_time, 'YYYY-MM-DD')}\r\n      if(data.deadline){data.deadline = moment(data.deadline, 'YYYY-MM-DD')}\r\n      this.setState({data: data});\r\n      this.props.form.setFieldsValue(this.state.data);\r\n      this.setState({bacDoc: data.background});\r\n      console.log(data.background)\r\n      this.state.editor_2.txt.html(data.background);\r\n    });\r\n    reqwest({\r\n      url:window.location.protocol + \"//\"+window.location.host + '/aidsp/api/user/?format=json',\r\n      // url:'http://127.0.0.1:8000/aidsp/api/user/?format=json',\r\n      method: 'get',\r\n    }).then(data => {\r\n      this.setState({user_data: data});\r\n      let Options = data.map(station  => <Option value={station.id}>{station .name}</Option>);\r\n      this.setState({Options: Options});\r\n\r\n      console.log(Options)\r\n    });\r\n    reqwest({\r\n      url:window.location.protocol + \"//\"+window.location.host + '/aidsp/api/label/?format=json',\r\n      // url:'http://127.0.0.1:8000/aidsp/api/label/?format=json',\r\n      method: 'get',\r\n    }).then(data => {\r\n      this.setState({label_data: data});\r\n      let Options_label = data.map(station  => <Option value={station.id}>{station .name}</Option>);\r\n      this.setState({Options_label: Options_label});\r\n    });\r\n    \r\n  };\r\n  handleSizeChange = e => {\r\n    this.setState({ nowDoc: e.target.value });\r\n    this.state.nowDoc = e.target.value\r\n    if (this.state.nowDoc == 'reqDoc'){\r\n        this.state.editor.txt.html(this.state.reqDoc.doc);\r\n        this.setState({ comments: this.state.reqDoc.qa });\r\n\r\n    }\r\n    if (this.state.nowDoc == 'colDoc'){\r\n        this.state.editor.txt.html(this.state.colDoc.doc)\r\n        this.setState({ comments: this.state.colDoc.qa });\r\n\r\n\r\n    }\r\n    if (this.state.nowDoc == 'labDoc'){\r\n      this.state.editor.txt.html(this.state.labDoc.doc)\r\n      this.setState({ comments: this.state.labDoc.qa });\r\n    }\r\n\r\n\r\n\r\n  };\r\n  edonchange = e => {\r\n    if (this.state.nowDoc == 'reqDoc'){\r\n        this.state.reqDoc.doc = this.state.editor.txt.html()\r\n    }\r\n    if (this.state.nowDoc == 'colDoc'){\r\n        this.state.colDoc.doc = this.state.editor.txt.html()\r\n\r\n    }\r\n    if (this.state.nowDoc == 'labDoc'){\r\n        this.state.labDoc.doc = this.state.editor.txt.html()\r\n        }\r\n  } \r\n\r\n    handleQASubmit = () => { \r\n    if (!this.state.value) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      submitting: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.setState({\r\n        submitting: false,\r\n        value: '',\r\n        comments: [\r\n          ...this.state.comments,\r\n\r\n          {\r\n            author: this.state.qastatus == 'Q'? \"Q\":\"A\",\r\n            avatar: this.state.qastatus == 'A'?\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582719213619&di=dd745418dc019fef64d8d3977f20cf5b&imgtype=0&src=http%3A%2F%2Fbpic.588ku.com%2Felement_origin_min_pic%2F18%2F01%2F15%2F6cba6f970e25cbcd93ea8b2e16caebc3.jpg\":'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582719238902&di=0c0c144c0fbd6046605a84ccf3c8f4a4&imgtype=0&src=http%3A%2F%2Fbpic.588ku.com%2Felement_origin_min_pic%2F18%2F01%2F15%2F6555e09a050e6b13a9bd4fc79106f1bc.jpg',\r\n            content: <p>{this.state.value}</p>,\r\n            datetime: moment().fromNow(),\r\n          },\r\n        ],\r\n      }, function() {  \r\n            if (this.state.nowDoc == 'reqDoc'){\r\n                this.state.reqDoc.qa = this.state.comments\r\n            }\r\n            if (this.state.nowDoc == 'colDoc'){\r\n                this.state.colDoc.qa = this.state.comments\r\n            }\r\n            if (this.state.nowDoc == 'labDoc'){\r\n                this.state.labDoc.qa = this.state.comments\r\n            }\r\n      });\r\n    }, 100);\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n  handleQAChange= e => {\r\n    this.setState({\r\n      qastatus: e.target.value ,\r\n    });\r\n    console.log(this.state.comments)\r\n\r\n  }\r\n  tag_fetch  = e => {\r\n    reqwest({\r\n      url:window.location.protocol + \"//\"+window.location.host + '/aidsp/api/label/?format=json',\r\n      // url:'http://127.0.0.1:8000/aidsp/api/label/?format=json',\r\n      method: 'get',\r\n    }).then(data => {\r\n      this.setState({label_data: data});\r\n      let Options_label = data.map(station  => <Option value={station.id}>{station .name}</Option>);\r\n      this.setState({Options_label: Options_label});\r\n    });\r\n  }\r\n  showModal = () => {\r\n    this.setState({ visible: true });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  handleCreate = () => {\r\n    const { form } = this.formRef.props;\r\n    form.validateFields((err, values) => {\r\n      if (err) {\r\n        return;\r\n      }\r\n\r\n      console.log('Received values of form: ', values);\r\n      fetch(window.location.protocol + \"//\"+window.location.host + '/aidsp/api/label/',{\r\n      // fetch('http://127.0.0.1:8000/aidsp/api/label/', {\r\n\r\n          method: 'PUT',\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n          },\r\n          body: qs.stringify(values),\r\n        })\r\n\r\n      form.resetFields();\r\n      this.setState({ visible: false });\r\n    });\r\n  };\r\n\r\n  saveFormRef = formRef => {\r\n    this.formRef = formRef;\r\n  };\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const formItemLayout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 14 },\r\n      data: this.state.data,\r\n    };\r\n\r\n    const { comments, submitting, value } = this.state;\r\n\r\n    return (\r\n      <Form {...formItemLayout} onSubmit={this.handleSubmit }>\r\n        <Form.Item label=\"项目名称\">\r\n          {getFieldDecorator('project_name', {\r\n            rules: [{ required: true, message: '请输入项目名称!' }],\r\n          })(\r\n            <Input placeholder=\"请输入项目名称\" key='sddsd'></Input>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"状态\">\r\n          {getFieldDecorator('status', {\r\n            rules: [{ required: true, message: '请选择状态!' }],\r\n          })(\r\n            <Select placeholder=\"请选择状态\">\r\n              <Option value=\"未开始\">未开始</Option>\r\n              <Option value=\"准备中\">准备中</Option>\r\n              <Option value=\"数据采集\">数据采集</Option>\r\n              <Option value=\"数据标注\">数据标注</Option>\r\n              <Option value=\"暂停\">暂停</Option>\r\n              <Option value=\"完结\">完结</Option>\r\n            </Select>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"创建时间\"  >\r\n          {getFieldDecorator('create_time', {\r\n            }\r\n          )\r\n          (<DatePicker disabled/>)}\r\n        </Form.Item>\r\n        <Form.Item label=\"结束时间\">\r\n          {getFieldDecorator('end_time', {\r\n            rules: [{ type: 'object', required: true, message: 'Please select time!' }],}\r\n          )(<DatePicker />)}\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"需求总量\" >\r\n          {getFieldDecorator('total_demand', {\r\n            rules: [{ required: true, message: '请输入需求总量!' }],\r\n          })(\r\n            <InputNumber ></InputNumber>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"需求数量描述\" >\r\n          {getFieldDecorator('total_describe', {\r\n            \r\n          })(\r\n            <Input placeholder=\"请输入需求数量描述\"></Input>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"截止时间\">\r\n          {getFieldDecorator('deadline', {\r\n            rules: [{ type: 'object', required: true, message: 'Please select time!' }],}\r\n          )(<DatePicker />)}\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"标签\" onClick={this.tag_fetch} >\r\n          {getFieldDecorator('labels', {\r\n          })(\r\n              <Select placeholder=\"请输入标签\" \r\n              mode=\"multiple\"\r\n            dropdownRender={menu => (\r\n              <div>\r\n                {menu}\r\n                <Divider style={{ margin: '4px 0' }} />\r\n                <div\r\n                  style={{ padding: '4px 8px', cursor: 'pointer' }}\r\n                  onMouseDown={e => e.preventDefault()}\r\n                  onClick={this.showModal}\r\n                >\r\n                  <Icon type=\"plus\" /> Add item\r\n                </div>\r\n              </div>\r\n              )}>\r\n                {this.state.Options_label}  \r\n              </Select>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"创建人\">\r\n          {getFieldDecorator('users_found', {\r\n            rules: [{ required: true, message: '请输入创建人!' }],\r\n          })(\r\n              <Select placeholder=\"请输入创建人\" mode=\"multiple\">\r\n                {this.state.Options}              \r\n              </Select>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"管理人\">\r\n          {getFieldDecorator('users_manager', {\r\n          })(\r\n              <Select placeholder=\"请输入管理人\" mode=\"multiple\">\r\n                {this.state.Options}              \r\n              </Select>, \r\n            )}\r\n        </Form.Item>\r\n        <Form.Item label=\"参与人\">\r\n          {getFieldDecorator('users_attend', {\r\n          })(\r\n              <Select placeholder=\"请输入参与人\" mode=\"multiple\">\r\n                {this.state.Options}              \r\n              </Select>,          \r\n            )}\r\n        </Form.Item>\r\n        <Form.Item label=\"项目背景\" >\r\n          {getFieldDecorator('background', {\r\n            valuePropName: 'fileList',\r\n            getValueFromEvent: this.normFile,\r\n          })(\r\n            <div className=\"shop\">\r\n                <div className=\"text-area\" >\r\n                    <div ref=\"editorElemMenu_2\"\r\n                         style={{backgroundColor:'#f1f1f1',border:\"1px solid #ccc\"}}\r\n                         className=\"editorElem-menu\">\r\n                    </div>\r\n                    <div\r\n                        style={{\r\n                            padding:\"0 10px\",\r\n                            height:300,\r\n                            border:\"1px solid #ccc\",\r\n                            borderTop:\"none\"\r\n                        }}\r\n                        ref=\"editorElemBody_2\" className=\"editorElem-body\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label='文档'  >\r\n    \r\n          <Radio.Group value={this.state.nowDoc} onChange={this.handleSizeChange}>\r\n            <Radio.Button value=\"reqDoc\">需求文档</Radio.Button>\r\n            <Radio.Button value=\"colDoc\">采集文档</Radio.Button>\r\n            <Radio.Button value=\"labDoc\">标注文档</Radio.Button>\r\n          </Radio.Group>\r\n            <div className=\"shop\">\r\n                <div className=\"text-area\" >\r\n                    <div ref=\"editorElemMenu\"\r\n                         style={{backgroundColor:'#f1f1f1',border:\"1px solid #ccc\"}}\r\n                         className=\"editorElem-menu\">\r\n                    </div>\r\n                    <div\r\n                        style={{\r\n                            padding:\"0 10px\",\r\n                            height:300,\r\n                            border:\"1px solid #ccc\",\r\n                            borderTop:\"none\"\r\n                        }}\r\n                        ref=\"editorElemBody\" className=\"editorElem-body\">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                  <div>\r\n\r\n        {comments.length > 0 && <CommentList comments={comments} />}\r\n                   <Radio.Group  onChange={this.handleQAChange} value={this.state.qastatus}>\r\n            <Radio.Button value=\"Q\">Q</Radio.Button>\r\n            <Radio.Button value=\"A\">A</Radio.Button>\r\n          </Radio.Group>\r\n        <Comment\r\n          avatar={\r\n            <Avatar\r\n              src={this.state.qastatus == 'A'?\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582719213619&di=dd745418dc019fef64d8d3977f20cf5b&imgtype=0&src=http%3A%2F%2Fbpic.588ku.com%2Felement_origin_min_pic%2F18%2F01%2F15%2F6cba6f970e25cbcd93ea8b2e16caebc3.jpg\":'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582719238902&di=0c0c144c0fbd6046605a84ccf3c8f4a4&imgtype=0&src=http%3A%2F%2Fbpic.588ku.com%2Felement_origin_min_pic%2F18%2F01%2F15%2F6555e09a050e6b13a9bd4fc79106f1bc.jpg'}\r\n              alt= {this.state.qastatus == 'A'? \"Q\":\"A\"}\r\n            />\r\n          }\r\n          content={\r\n            <Editor\r\n              onChange={this.handleChange}\r\n              onSubmit={this.handleQASubmit}\r\n              submitting={submitting}\r\n              value={value}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n       </Form.Item>\r\n\r\n\r\n\r\n        <Form.Item wrapperCol={{ span: 12, offset: 6 }}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            提交\r\n          </Button>\r\n        </Form.Item>\r\n        <CollectionCreateForm\r\n          wrappedComponentRef={this.saveFormRef}\r\n          visible={this.state.visible}\r\n          onCancel={this.handleCancel}\r\n          onCreate={this.handleCreate}\r\n        />\r\n      </Form>\r\n    );\r\n\r\n  }\r\n}\r\nconst WrappedDemo = Form.create({ project_name: 'validate_other' })(Demo);\r\n\r\nReactDOM.render(<WrappedDemo />, document.getElementById('container'));\r\n          "],"sourceRoot":""}