(this["webpackJsonpjkfruy.run"]=this["webpackJsonpjkfruy.run"]||[]).push([[0],{181:function(e,t,a){e.exports=a(182)},182:function(e,t,a){"use strict";a.r(t);for(var l=a(158),n=a(159),o=a(175),r=a(160),i=a(176),s=a(1),c=a.n(s),m=a(7),d=a.n(m),u=(a(187),a(188),a(11)),p=a.n(u),h=a(161),b=a.n(h),E=a(58),_=a(21),f=a(179),g=a(120),w=a(178),v=a(57),y=a(10),j=a(378),I=a(94),O=a.n(I),k=E.a.Option,Y=[],S=10;S<36;S++)Y.push(c.a.createElement(k,{key:S.toString(36)+S},S.toString(36)+S));var D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(i)))).state={data:[],user_data:[{id:"",name:""}],Options:[],label_data:[{id:"",name:""}],Options_label:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){var a=window.location.pathname.split("/")[window.location.pathname.split("/").length-2];if(!e){var l={project_id:a,project_name:t.project_name,status:t.status,create_time:t.create_time._d,end_time:t.end_time._d,background:t.background,total_demand:t.total_demand,total_describe:t.total_describe,deadline:t.deadline._d,documents:t.documents,labels:t.labels[0],users_found:t.users_found[0],users_manager:t.users_manager[0],users_attend:t.users_attend[0]};console.log(l),fetch(window.location.protocol+"//"+window.location.host+"/aidsp/api/project/"+a+"/",{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:b.a.stringify(l)})}}))},a.normFile=function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},a.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",e);window.location.pathname.split("/")[window.location.pathname.split("/").length-2];O()({url:window.location.protocol+"//"+window.location.host+"/aidsp/api/project/1/?format=json",method:"get"}).then((function(e){e.create_time&&(e.create_time=p()(e.create_time,"YYYY-MM-DD")),e.end_time&&(e.end_time=p()(e.end_time,"YYYY-MM-DD")),e.deadline&&(e.deadline=p()(e.deadline,"YYYY-MM-DD")),a.setState({data:e}),a.props.form.setFieldsValue(a.state.data)})),O()({url:window.location.protocol+"//"+window.location.host+"/aidsp/api/user/?format=json",method:"get"}).then((function(e){a.setState({user_data:e});var t=e.map((function(e){return c.a.createElement(k,{value:e.id},e.name)}));a.setState({Options:t}),console.log(t)})),O()({url:window.location.protocol+"//"+window.location.host+"/aidsp/api/label/?format=json",method:"get"}).then((function(e){a.setState({label_data:e});var t=e.map((function(e){return c.a.createElement(k,{value:e.id},e.name)}));a.setState({Options_label:t})}))},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14},data:this.state.data};return c.a.createElement(_.a,Object.assign({},t,{onSubmit:this.handleSubmit}),c.a.createElement(_.a.Item,{label:"\u9879\u76ee\u540d\u79f0"},e("project_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0!"}]})(c.a.createElement(f.a,{placeholder:"\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0",key:"sddsd"}))),c.a.createElement(_.a.Item,{label:"\u72b6\u6001"},e("status",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u72b6\u6001!"}]})(c.a.createElement(E.a,{placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001"},c.a.createElement(k,{value:"\u672a\u5f00\u59cb"},"\u672a\u5f00\u59cb"),c.a.createElement(k,{value:"\u51c6\u5907\u4e2d"},"\u51c6\u5907\u4e2d"),c.a.createElement(k,{value:"\u6570\u636e\u91c7\u96c6"},"\u6570\u636e\u91c7\u96c6"),c.a.createElement(k,{value:"\u6570\u636e\u6807\u6ce8"},"\u6570\u636e\u6807\u6ce8"),c.a.createElement(k,{value:"\u6682\u505c"},"\u6682\u505c"),c.a.createElement(k,{value:"\u5b8c\u7ed3"},"\u5b8c\u7ed3")))),c.a.createElement(_.a.Item,{label:"\u521b\u5efa\u65f6\u95f4"},e("create_time",{rules:[{type:"object",required:!0,message:"Please select time!"}]})(c.a.createElement(g.a,null))),c.a.createElement(_.a.Item,{label:"\u7ed3\u675f\u65f6\u95f4"},e("end_time",{rules:[{type:"object",required:!0,message:"Please select time!"}]})(c.a.createElement(g.a,null))),c.a.createElement(_.a.Item,{label:"\u9879\u76ee\u80cc\u666f"},e("background",{valuePropName:"fileList",getValueFromEvent:this.normFile})(c.a.createElement(w.a,{name:"logo",action:"/upload.do",listType:"picture"},c.a.createElement(v.a,null,c.a.createElement(y.a,{type:"upload"})," Click to upload")))),c.a.createElement(_.a.Item,{label:"\u9700\u6c42\u603b\u91cf"},e("total_demand",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9700\u6c42\u603b\u91cf!"}]})(c.a.createElement(j.a,null))),c.a.createElement(_.a.Item,{label:"\u9700\u6c42\u6570\u91cf\u63cf\u8ff0"},e("total_describe",{})(c.a.createElement(f.a,{placeholder:"\u8bf7\u8f93\u5165\u9700\u6c42\u6570\u91cf\u63cf\u8ff0"}))),c.a.createElement(_.a.Item,{label:"\u622a\u6b62\u65f6\u95f4"},e("deadline",{rules:[{type:"object",required:!0,message:"Please select time!"}]})(c.a.createElement(g.a,null))),c.a.createElement(_.a.Item,{label:"\u6587\u6863"},e("documents",{valuePropName:"fileList",getValueFromEvent:this.normFile})(c.a.createElement(w.a,{name:"logo",action:"/upload.do",listType:"picture"},c.a.createElement(v.a,null,c.a.createElement(y.a,{type:"upload"})," Click to upload")))),c.a.createElement(_.a.Item,{label:"\u6807\u7b7e"},e("labels",{})(c.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e"},this.state.Options_label))),c.a.createElement(_.a.Item,{label:"\u521b\u5efa\u4eba"},e("users_found",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u521b\u5efa\u4eba!"}]})(c.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u521b\u5efa\u4eba"},this.state.Options))),c.a.createElement(_.a.Item,{label:"\u7ba1\u7406\u4eba"},e("users_manager",{})(c.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u4eba"},this.state.Options))),c.a.createElement(_.a.Item,{label:"\u53c2\u4e0e\u4eba"},e("users_attend",{})(c.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u53c2\u4e0e\u4eba"},this.state.Options))),c.a.createElement(_.a.Item,{wrapperCol:{span:12,offset:6}},c.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),t}(c.a.Component),F=_.a.create({project_name:"validate_other"})(D);d.a.render(c.a.createElement(F,null),document.getElementById("container"))},188:function(e,t,a){},191:function(e,t){}},[[181,1,2]]]);
//# sourceMappingURL=main.b43fb4ad.chunk.js.map